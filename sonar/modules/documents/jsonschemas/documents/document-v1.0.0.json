{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Document",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "title": "Schema",
      "description": "Schema to validate document against.",
      "type": "string",
      "default": "https://sonar.ch/schemas/documents/document-v1.0.0.json",
      "minLength": 1
    },
    "_bucket": {
      "title": "Bucket UUID",
      "description": "Bucket UUID used to store files",
      "type": "string",
      "minLength": 1
    },
    "_files": {
      "title": "Files",
      "description": "List of files attached to the record.",
      "type": "array",
      "items": {
        "title": "File",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "bucket": {
            "title": "Bucket UUID",
            "description": "UUID of the bucket the tile is assigned to.",
            "type": "string",
            "minLength": 1
          },
          "file_id": {
            "title": "File UUID",
            "description": "UUID of the FileInstance object.",
            "type": "string",
            "minLength": 1
          },
          "version_id": {
            "title": "Version UUID",
            "description": "UUID of the ObjectVersion object.",
            "type": "string",
            "minLength": 1
          },
          "key": {
            "title": "Key",
            "description": "Key (filename) of the file.",
            "type": "string",
            "minLength": 1
          },
          "mimetype": {
            "title": "MIME type",
            "type": "string",
            "minLength": 1
          },
          "checksum": {
            "title": "Checksum",
            "description": "MD5 checksum of the file.",
            "type": "string",
            "minLength": 1
          },
          "size": {
            "title": "Size",
            "description": "Size of the file in bytes.",
            "type": "integer"
          },
          "label": {
            "title": "Label",
            "type": "string",
            "minLength": 1
          },
          "type": {
            "title": "Type",
            "description": "Type of the file",
            "type": "string",
            "enum": [
              "file",
              "fulltext",
              "thumbnail"
            ],
            "default": "file"
          },
          "order": {
            "title": "Position",
            "description": "Position of the file, the first file in the list is the main file.",
            "type": "integer",
            "default": 1,
            "minimum": 1
          },
          "external_url": {
            "title": "External URL",
            "description": "If this field is filled in, the file points to the specified URL.",
            "type": "string",
            "minLength": 1,
            "format": "uri",
            "pattern": "^https?://.*",
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "hide": "true"
                },
                "props": {
                  "validation": {
                    "messages": {
                      "patternMessage": "Should be a valid URL format."
                    }
                  }
                }
              }
            }
          },
          "force_external_url": {
            "title": "Force external URL",
            "description": "If the value is set to true, the file will point to the external link.",
            "type": "boolean",
            "default": false,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "hide": "true"
                }
              }
            }
          },
          "access": {
            "title": "Access",
            "type": "string",
            "enum": [
              "coar:c_abf2",
              "coar:c_f1cf",
              "coar:c_16ec"
            ],
            "default": "coar:c_abf2",
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "true"
                },
                "props": {
                  "appendTo": "body",
                  "options": [
                    {
                      "label": "coar:c_abf2",
                      "value": "coar:c_abf2"
                    },
                    {
                      "label": "coar:c_f1cf",
                      "value": "coar:c_f1cf"
                    },
                    {
                      "label": "coar:c_16ec",
                      "value": "coar:c_16ec"
                    }
                  ]
                }
              }
            }
          },
          "restricted_outside_organisation": {
            "title": "Access allowed from the organisation's IP addresses",
            "type": "boolean",
            "default": true,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "model && model.access && model.access !== 'coar:c_abf2'",
                  "hide": "!model || !model.access || model.access === 'coar:c_abf2'"
                }
              }
            }
          },
          "embargo_date": {
            "title": "Embargo date",
            "description": "Example: 2019-05-05",
            "type": "string",
            "minLength": 1,
            "format": "date",
            "pattern": "^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$",
            "widget": {
              "formlyConfig": {
                "type": "datePicker",
                "expressions": {
                  "props.required": "model && model.access && model.access === 'coar:c_f1cf'",
                  "hide": "!model || !model.access || model.access !== 'coar:c_f1cf'"
                },
                "props": {
                  "validation": {
                    "messages": {
                      "patternMessage": "Should be in the following format: 2022-12-31 (YYYY-MM-DD)."
                    }
                  }
                }
              }
            }
          }
        },
        "required": [
          "bucket",
          "file_id",
          "version_id",
          "key"
        ],
        "propertiesOrder": [
          "label",
          "access",
          "embargo_date",
          "restricted_outside_organisation",
          "external_url"
        ]
      }
    },
    "_oai": {
      "description": "OAI-PMH specific information.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "id": {
          "description": "OAI-PMH record identifier.",
          "type": "string",
          "minLength": 1
        },
        "sets": {
          "description": "OAI-PMH sets for record.",
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 1
          }
        },
        "updated": {
          "description": "Last OAI-PMH set update (ISO8601 formatted timestamp)",
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "id",
        "sets",
        "updated"
      ]
    },
    "pid": {
      "title": "Document ID",
      "type": "string",
      "minLength": 1
    },
    "organisation": {
      "title": "Organisations",
      "description": "This property should only be changed in test environments. In production, it can have undesired effects, such as invalidating existing persistent identifiers (ARK).",
      "type": "array",
      "minItems": 1,
      "maxItems": 1,
      "items": {
        "title": "Organisation",
        "type": "object",
        "properties": {
          "$ref": {
            "title": "Organisation",
            "type": "string",
            "pattern": "^https://sonar.ch/api/organisations/.*?$",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "hideLabel": true,
                  "remoteOptions": {
                    "type": "organisations"
                  }
                }
              }
            }
          }
        },
        "required": [
          "$ref"
        ]
      },
      "widget": {
        "formlyConfig": {
          "expressions": {
            "props.required": "true"
          }
        }
      }
    },
    "documentType": {
      "$ref": "https://sonar.ch/schemas/common/type-v1.0.0.json"
    },
    "title": {
      "title": "Titles",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Title",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "const": "bf:Title",
            "default": "bf:Title",
            "widget": {
              "formlyConfig": {
                "wrappers": [
                  "hide"
                ]
              }
            }
          },
          "mainTitle": {
            "title": "Main titles",
            "type": "array",
            "minItems": 1,
            "items": {
              "title": "Main title",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "title": "Value",
                  "type": "string",
                  "minLength": 1
                },
                "language": {
                  "$ref": "https://sonar.ch/schemas/common/language-v1.0.0.json"
                }
              },
              "required": [
                "value",
                "language"
              ]
            }
          },
          "subtitle": {
            "title": "Subtitles",
            "type": "array",
            "minItems": 1,
            "items": {
              "title": "Subtitle",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "title": "Value",
                  "type": "string",
                  "minLength": 1
                },
                "language": {
                  "$ref": "https://sonar.ch/schemas/common/language-v1.0.0.json"
                }
              },
              "required": [
                "value",
                "language"
              ]
            },
            "widget": {
              "formlyConfig": {
                "props": {
                  "hide": true
                }
              }
            }
          }
        },
        "propertiesOrder": [
          "mainTitle",
          "subtitle",
          "type"
        ],
        "required": [
          "type",
          "mainTitle"
        ]
      }
    },
    "language": {
      "title": "Languages",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Language",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "const": "bf:Language",
            "default": "bf:Language",
            "widget": {
              "formlyConfig": {
                "wrappers": [
                  "hide"
                ]
              }
            }
          },
          "value": {
            "$ref": "https://sonar.ch/schemas/common/language-v1.0.0.json"
          }
        },
        "propertiesOrder": [
          "value",
          "type"
        ],
        "required": [
          "type",
          "value"
        ]
      },
      "widget": {
        "formlyConfig": {
          "expressions": {
            "props.required": "true"
          }
        }
      }
    },
    "editionStatement": {
      "title": "Edition",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "editionDesignation": {
          "title": "Designation",
          "type": "object",
          "properties": {
            "value": {
              "title": "Value",
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "value"
          ]
        },
        "responsibility": {
          "title": "Responsibility",
          "type": "object",
          "properties": {
            "value": {
              "title": "Value",
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "value"
          ]
        }
      },
      "required": [
        "editionDesignation"
      ],
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "provisionActivity": {
      "title": "Provision activities",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Provision activity",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "default": "bf:Publication",
            "enum": [
              "bf:Publication",
              "bf:Manufacture"
            ],
            "widget": {
              "formlyConfig": {
                "props": {
                  "options": [
                    {
                      "label": "bf:Publication",
                      "value": "bf:Publication"
                    },
                    {
                      "label": "bf:Manufacture",
                      "value": "bf:Manufacture"
                    }
                  ]
                }
              }
            }
          },
          "statement": {
            "title": "Statements",
            "type": "array",
            "minItems": 1,
            "items": {
              "title": "Statement",
              "type": "object",
              "properties": {
                "type": {
                  "title": "Type",
                  "type": "string",
                  "enum": [
                    "bf:Place",
                    "bf:Agent",
                    "Date"
                  ],
                  "widget": {
                    "formlyConfig": {
                      "props": {
                        "options": [
                          {
                            "label": "bf:Place",
                            "value": "bf:Place"
                          },
                          {
                            "label": "bf:Agent",
                            "value": "bf:Agent"
                          },
                          {
                            "label": "Date",
                            "value": "Date"
                          }
                        ]
                      }
                    }
                  }
                },
                "label": {
                  "title": "Label",
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "type": "object",
                    "properties": {
                      "value": {
                        "title": "Value",
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "value"
                    ]
                  }
                }
              },
              "propertiesOrder": [
                "type",
                "label"
              ],
              "required": [
                "type",
                "label"
              ]
            },
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "field.parent.model.type && field.parent.model.type !== 'bf:Publication'"
                },
                "props": {
                  "hide": true
                }
              }
            }
          },
          "startDate": {
            "title": "Start date of publication",
            "type": "string",
            "minLength": 1,
            "pattern": "^[0-9]{4}(-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))?$",
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "true"
                },
                "props": {
                  "placeholder": "Example: 2019 or 2019-01-01"
                }
              }
            }
          },
          "endDate": {
            "title": "End date of publication",
            "type": "string",
            "minLength": 1,
            "pattern": "^[0-9]{4}(-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))?$",
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "hide": "!model ||  (model.type !== 'bf:Publication' || !model.startDate)"
                },
                "props": {
                  "placeholder": "Example: 2019 or 2019-01-01"
                }
              }
            }
          }
        },
        "propertiesOrder": [
          "type",
          "statement",
          "startDate",
          "endDate"
        ],
        "required": [
          "type"
        ]
      },
      "widget": {
        "formlyConfig": {
          "expressions": {
            "props.required": "field.parent.model && !['coar:c_beb9', 'coar:c_6501', 'coar:c_998f', 'coar:c_dcae04bc', 'coar:c_3e5a', 'coar:c_ba08', 'coar:c_5794', 'coar:c_6670'].includes(field.parent.model.documentType)"
          }
        }
      }
    },
    "extent": {
      "title": "Extent",
      "description": "Extent of the resource, i.e. the number of pages or volumes.",
      "type": "string",
      "minLength": 1,
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "otherMaterialCharacteristics": {
      "title": "Other Material Characteristics",
      "description": "Other Material Characteristics, i.e. illustrations, black and white, or coloured.",
      "type": "string",
      "minLength": 1,
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "formats": {
      "title": "Formats",
      "description": "Format of the resource, i.e. dimensions in cm.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Format",
        "type": "string",
        "minLength": 1
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "additionalMaterials": {
      "title": "Additional materials",
      "description": "Accompanying material of the resource, i.e. maps.",
      "type": "string",
      "minLength": 1,
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "series": {
      "title": "Series",
      "description": "Series the resource belongs to.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "title": "Serie",
        "properties": {
          "name": {
            "title": "Title",
            "type": "string",
            "minLength": 1
          },
          "number": {
            "title": "Numbering",
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "name"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "notes": {
      "title": "Notes",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Note",
        "type": "string",
        "minLength": 1
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "abstracts": {
      "title": "Abstracts",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Abstract",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "value": {
            "title": "Value",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "type": "textarea",
                "props": {
                  "rows": 3
                }
              }
            }
          },
          "language": {
            "$ref": "https://sonar.ch/schemas/common/language-v1.0.0.json"
          }
        },
        "required": [
          "value",
          "language"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "identifiedBy": {
      "title": "Identifiers",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Identifier",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "enum": [
              "bf:AudioIssueNumber",
              "bf:Doi",
              "bf:Ean",
              "bf:Gtin14Number",
              "ark",
              "bf:Identifier",
              "bf:Isan",
              "bf:Isbn",
              "bf:Ismn",
              "bf:Isrc",
              "bf:Issn",
              "bf:Local",
              "bf:IssnL",
              "bf:MatrixNumber",
              "bf:MusicDistributorNumber",
              "bf:MusicPlate",
              "bf:MusicPublisherNumber",
              "bf:PublisherNumber",
              "bf:Upc",
              "bf:Urn",
              "bf:VideoRecordingNumber",
              "uri",
              "bf:ReportNumber",
              "bf:Strn"
            ],
            "widget": {
              "formlyConfig": {
                "props": {
                  "options": [
                    {
                      "label": "bf:AudioIssueNumber",
                      "value": "bf:AudioIssueNumber"
                    },
                    {
                      "label": "bf:Doi",
                      "value": "bf:Doi"
                    },
                    {
                      "label": "bf:Ean",
                      "value": "bf:Ean"
                    },
                    {
                      "label": "bf:Gtin14Number",
                      "value": "bf:Gtin14Number"
                    },
                    {
                      "label": "bf:Identifier",
                      "value": "bf:Identifier"
                    },
                    {
                      "label": "bf:Isan",
                      "value": "bf:Isan"
                    },
                    {
                      "label": "bf:Isbn",
                      "value": "bf:Isbn"
                    },
                    {
                      "label": "bf:Ismn",
                      "value": "bf:Ismn"
                    },
                    {
                      "label": "bf:Isrc",
                      "value": "bf:Isrc"
                    },
                    {
                      "label": "bf:Issn",
                      "value": "bf:Issn"
                    },
                    {
                      "label": "bf:IssnL",
                      "value": "bf:IssnL"
                    },
                    {
                      "label": "bf:Local",
                      "value": "bf:Local"
                    },
                    {
                      "label": "bf:MatrixNumber",
                      "value": "bf:MatrixNumber"
                    },
                    {
                      "label": "bf:MusicDistributorNumber",
                      "value": "bf:MusicDistributorNumber"
                    },
                    {
                      "label": "bf:MusicPlate",
                      "value": "bf:MusicPlate"
                    },
                    {
                      "label": "bf:MusicPublisherNumber",
                      "value": "bf:MusicPublisherNumber"
                    },
                    {
                      "label": "bf:PublisherNumber",
                      "value": "bf:PublisherNumber"
                    },
                    {
                      "label": "bf:Upc",
                      "value": "bf:Upc"
                    },
                    {
                      "label": "bf:Urn",
                      "value": "bf:Urn"
                    },
                    {
                      "label": "bf:VideoRecordingNumber",
                      "value": "bf:VideoRecordingNumber"
                    },
                    {
                      "label": "uri",
                      "value": "uri"
                    },
                    {
                      "label": "bf:ReportNumber",
                      "value": "bf:ReportNumber"
                    },
                    {
                      "label": "bf:Strn",
                      "value": "bf:Strn"
                    }
                  ]
                }
              }
            }
          },
          "value": {
            "title": "Value",
            "type": "string",
            "minLength": 1
          },
          "note": {
            "title": "Note",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "hide": true
                }
              }
            }
          },
          "qualifier": {
            "title": "Qualifier",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "hide": true
                }
              }
            }
          },
          "acquisitionTerms": {
            "title": "Acquisition terms",
            "type": "string",
            "minLength": 1
          },
          "source": {
            "title": "Source",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "model && model.type === 'bf:Local'",
                  "hide": "!model || model.type !== 'bf:Local'"
                }
              }
            }
          },
          "status": {
            "title": "Status",
            "type": "string",
            "enum": [
              "invalid",
              "cancelled",
              "invalid or cancelled"
            ],
            "validationMessage": "ISBN/ISSN status should be selected in the list below.",
            "widget": {
              "formlyConfig": {
                "props": {
                  "hide": true
                }
              }
            }
          }
        },
        "propertiesOrder": [
          "type",
          "value",
          "status",
          "qualifier",
          "acquisitionTerms",
          "note",
          "source"
        ],
        "required": [
          "type",
          "value"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "subjects": {
      "title": "Subjects",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Subject",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "label": {
            "title": "Label",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "language": {
                "$ref": "https://sonar.ch/schemas/common/language-v1.0.0.json"
              },
              "value": {
                "title": "Value",
                "type": "array",
                "minItems": 1,
                "items": {
                  "title": "Subject",
                  "type": "string",
                  "minLength": 1
                }
              }
            },
            "required": [
              "value"
            ]
          },
          "source": {
            "title": "Source",
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "label"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "harvested": {
      "title": "Harvested",
      "description": "Document is harvested or not, will disable record edition or similar.",
      "type": "boolean",
      "default": false
    },
    "otherEdition": {
      "title": "Other electronic versions",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Other electronic version",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "document": {
            "title": "Document",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "electronicLocator": {
                "title": "URL",
                "type": "string",
                "minLength": 1,
                "pattern": "^https?://.+",
                "widget": {
                  "formlyConfig": {
                    "props": {
                      "validation": {
                        "messages": {
                          "patternMessage": "Should be a valid URL format."
                        }
                      },
                      "placeholder": "Example: https://www.rero.ch"
                    }
                  }
                }
              }
            },
            "required": [
              "electronicLocator"
            ]
          },
          "publicNote": {
            "title": "Public note",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "placeholder": "Example: Published version"
                }
              }
            }
          }
        },
        "propertiesOrder": [
          "publicNote",
          "document"
        ],
        "required": [
          "document",
          "publicNote"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "relatedTo": {
      "title": "Related to",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Related to",
        "description": "Relationship with a document, dataset, etc.",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "document": {
            "title": "Document",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "electronicLocator": {
                "title": "URL",
                "type": "string",
                "pattern": "^https?://.+",
                "minLength": 1,
                "widget": {
                  "formlyConfig": {
                    "props": {
                      "validation": {
                        "messages": {
                          "patternMessage": "Should be a valid URL format."
                        }
                      },
                      "placeholder": "Example: https://www.rero.ch"
                    }
                  }
                }
              }
            },
            "required": [
              "electronicLocator"
            ]
          },
          "publicNote": {
            "title": "Public note",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "placeholder": "Example: Research dataset"
                }
              }
            }
          }
        },
        "propertiesOrder": [
          "publicNote",
          "document"
        ],
        "required": [
          "document",
          "publicNote"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "collections": {
      "title": "Collections",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Collections",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "$ref": {
            "type": "string",
            "pattern": "^https://sonar.ch/api/collections/.*?$",
            "widget": {
              "formlyConfig": {
                "type": "remoteAutoComplete",
                "props": {
                  "queryOptions": {
                    "type": "collections",
                    "field": "name.value.suggest",
                    "label": "label"
                  }
                }
              }
            }
          }
        },
        "required": [
          "$ref"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "classification": {
      "title": "Classifications",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Classification",
        "oneOf": [
          {
            "title": "bf:ClassificationUdc",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "type": {
                "title": "Type",
                "type": "string",
                "readOnly": true,
                "const": "bf:ClassificationUdc",
                "default": "bf:ClassificationUdc",
                "widget": {
                  "formlyConfig": {
                    "wrappers": [
                      "hide"
                    ]
                  }
                }
              },
              "classificationPortion": {
                "$ref": "https://sonar.ch/schemas/common/classification-v1.0.0.json"
              }
            },
            "propertiesOrder": [
              "classificationPortion",
              "type"
            ],
            "required": [
              "type",
              "classificationPortion"
            ]
          },
          {
            "title": "bf:ClassificationDdc",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "type": {
                "title": "Type",
                "type": "string",
                "readOnly": true,
                "const": "bf:ClassificationDdc",
                "default": "bf:ClassificationDdc",
                "widget": {
                  "formlyConfig": {
                    "wrappers": [
                      "hide"
                    ]
                  }
                }
              },
              "classificationPortion": {
                "title": "Classification portion",
                "type": "string",
                "minLength": 1
              }
            },
            "propertiesOrder": [
              "classificationPortion",
              "type"
            ],
            "required": [
              "type",
              "classificationPortion"
            ]
          }
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "contentNote": {
      "title": "Content notes",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Content note",
        "type": "string",
        "minLength": 1
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "dissertation": {
      "title": "Dissertation",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "degree": {
          "title": "Degree",
          "type": "string",
          "minLength": 1
        },
        "jury_note": {
          "title": "Jury note",
          "type": "string",
          "minLength": 1
        },
        "grantingInstitution": {
          "title": "Granting institution",
          "type": "string",
          "minLength": 1
        },
        "date": {
          "title": "Date",
          "type": "string",
          "pattern": "^[0-9]{4}(-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))?$",
          "widget": {
            "formlyConfig": {
              "props": {
                "placeholder": "Example: 2019 or 2019-05-05"
              }
            }
          }
        }
      },
      "propertiesOrder": [
        "degree",
        "grantingInstitution",
        "date",
        "jury_note"
      ],
      "required": [
        "degree"
      ],
      "hideExpression": "field.parent.model && !['coar:c_46ec', 'coar:c_7a1f', 'coar:c_db06', 'coar:c_bdcc', 'habilitation_thesis', 'advanced_studies_thesis', 'other_thesis'].includes(field.parent.model.documentType)",
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "usageAndAccessPolicy": {
      "title": "Usage and access policy",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "license": {
          "$ref": "https://sonar.ch/schemas/common/license-v1.0.0.json"
        },
        "label": {
          "title": "Label",
          "type": "string",
          "minLength": 1
        }
      },
      "propertiesOrder": [
        "license",
        "label"
      ],
      "required": [
        "license"
      ],
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "contribution": {
      "title": "Contributions",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Contribution",
        "type": "object",
        "oneOf": [
          {
            "title": "Person",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "agent": {
                "title": "Agent",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "type": {
                    "title": "Type",
                    "type": "string",
                    "const": "bf:Person",
                    "default": "bf:Person",
                    "widget": {
                      "formlyConfig": {
                        "wrappers": [
                          "hide"
                        ]
                      }
                    }
                  },
                  "preferred_name": {
                    "title": "Preferred name",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "type": "remoteAutoComplete",
                        "props": {
                            "queryOptions": {
                              "type": "documents",
                              "field": "contribution.agent.preferred_name.suggest",
                              "allowAdd": true
                            }
                        }
                      }
                    }
                  },
                  "identifiedBy": {
                    "title": "Identified by",
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "type": {
                        "title": "Type",
                        "type": "string",
                        "enum": [
                          "bf:Identifier",
                          "bf:Local"
                        ],
                        "widget": {
                          "formlyConfig": {
                            "props": {
                              "options": [
                                {
                                  "label": "bf:Identifier",
                                  "value": "bf:Identifier"
                                },
                                {
                                  "label": "bf:Local",
                                  "value": "bf:Local"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "source": {
                        "title": "Source",
                        "type": "string",
                        "minLength": 1,
                        "widget": {
                          "formlyConfig": {
                            "expressions": {
                              "props.required": "model && model.type === 'bf:Local'",
                              "hide": "!model ||  model.type !== 'bf:Local'"
                            }
                          }
                        }
                      },
                      "value": {
                        "title": "Value",
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "propertiesOrder": [
                      "type",
                      "source",
                      "value"
                    ],
                    "required": [
                      "type",
                      "value"
                    ],
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  },
                  "date_of_birth": {
                    "title": "Date of birth",
                    "type": "string",
                    "minLength": 4,
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  },
                  "date_of_death": {
                    "title": "Date of death",
                    "type": "string",
                    "minLength": 4,
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  }
                },
                "propertiesOrder": [
                  "type",
                  "preferred_name",
                  "identifiedBy",
                  "date_of_birth",
                  "date_of_death"
                ],
                "required": [
                  "type",
                  "preferred_name"
                ]
              },
              "role": {
                "$ref": "#/definitions/role"
              },
              "affiliation": {
                "title": "Affiliation",
                "type": "string",
                "minLength": 1
              },
              "controlledAffiliation": {
                "$ref": "#/definitions/controlledAffiliation"
              }
            },
            "propertiesOrder": [
              "agent",
              "role",
              "affiliation"
            ],
            "required": [
              "agent",
              "role"
            ]
          },
          {
            "title": "Organization",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "agent": {
                "title": "Agent",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "type": {
                    "title": "Type",
                    "type": "string",
                    "const": "bf:Organization",
                    "default": "bf:Organization",
                    "widget": {
                      "formlyConfig": {
                        "wrappers": [
                          "hide"
                        ]
                      }
                    }
                  },
                  "preferred_name": {
                    "title": "Preferred name",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "type": "remoteAutoComplete",
                        "props": {
                          "queryOptions": {
                            "type": "documents",
                            "field": "contribution.agent.preferred_name.suggest",
                            "allowAdd": true
                          }
                        }
                      }
                    }
                  }
                },
                "propertiesOrder": [
                  "type",
                  "preferred_name"
                ],
                "required": [
                  "type",
                  "preferred_name"
                ]
              },
              "role": {
                "$ref": "#/definitions/role"
              },
              "controlledAffiliation": {
                "$ref": "#/definitions/controlledAffiliation"
              }
            },
            "propertiesOrder": [
              "agent",
              "role"
            ],
            "required": [
              "agent",
              "role"
            ]
          },
          {
            "title": "Meeting",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "agent": {
                "title": "Agent",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "type": {
                    "title": "Type",
                    "type": "string",
                    "const": "bf:Meeting",
                    "default": "bf:Meeting",
                    "widget": {
                      "formlyConfig": {
                        "wrappers": [
                          "hide"
                        ]
                      }
                    }
                  },
                  "preferred_name": {
                    "title": "Preferred name",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "type": "remoteAutoComplete",
                        "props": {
                          "queryOptions": {
                            "type": "documents",
                            "field": "contribution.agent.preferred_name.suggest",
                            "allowAdd": true
                          }
                        }
                      }
                    }
                  },
                  "place": {
                    "title": "Place",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  },
                  "date": {
                    "title": "Date",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  },
                  "number": {
                    "title": "Number",
                    "type": "string",
                    "minLength": 1,
                    "widget": {
                      "formlyConfig": {
                        "props": {
                          "hide": true
                        }
                      }
                    }
                  }
                },
                "propertiesOrder": [
                  "type",
                  "preferred_name",
                  "place",
                  "number",
                  "date"
                ],
                "required": [
                  "type",
                  "preferred_name"
                ]
              },
              "role": {
                "$ref": "#/definitions/role"
              },
              "controlledAffiliation": {
                "$ref": "#/definitions/controlledAffiliation"
              }
            },
            "propertiesOrder": [
              "agent",
              "role"
            ],
            "required": [
              "agent",
              "role"
            ]
          }
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "partOf": {
      "title": "Contained in or submitted to (journal, book, proceedings)",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Document",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "numberingYear": {
            "title": "Year",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "props.required": "!['coar:c_816b'].includes(field.parent.parent.parent.model.documentType)"
                }
              }
            }
          },
          "numberingVolume": {
            "title": "Volume",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "hide": "!['coar:c_3248', 'coar:c_3e5a', 'coar:c_ba08', 'coar:c_beb9', 'coar:c_6501', 'coar:c_998f', 'coar:c_dcae04bc', 'coar:c_816b', 'coar:c_5794', 'coar:c_6670', 'coar:c_c94f'].includes(field.parent.parent.parent.model.documentType)"
                }
              }
            }
          },
          "numberingIssue": {
            "title": "Issue",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "expressions": {
                  "hide": "!['coar:c_3e5a', 'coar:c_ba08', 'coar:c_beb9', 'coar:c_6501', 'coar:c_998f', 'coar:c_dcae04bc', 'coar:c_816b', 'coar:c_5794', 'coar:c_6670', 'coar:c_c94f'].includes(field.parent.parent.parent.model.documentType)"
                }
              }
            }
          },
          "numberingPages": {
            "title": "Pages",
            "type": "string",
            "minLength": 1,
            "widget": {
              "formlyConfig": {
                "props": {
                  "placeholder": "Examples: 135, 5-27, \u2026"
                }
              }
            }
          },
          "document": {
            "title": "Document",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "title": {
                "title": "Title",
                "description": "Host document, for example a journal for an article, or a book for a book chapter.",
                "type": "string",
                "minLength": 1
              },
              "publication": {
                "title": "Publication",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "startDate": {
                    "title": "Start date",
                    "type": "string",
                    "minLength": 1
                  },
                  "statement": {
                    "title": "Statement",
                    "description": "Publication statement of the host document if it is a book, for example \"Paris : PUF, 2016\"",
                    "type": "string",
                    "minLength": 1
                  }
                },
                "propertiesOrder": [
                  "statement",
                  "startDate"
                ],
                "widget": {
                  "formlyConfig": {
                    "expressions": {
                      "hide": "!['coar:c_3248', 'coar:c_5794', 'coar:c_6670'].includes(field.parent.parent.parent.parent.model.documentType)"
                    }
                  }
                }
              },
              "contribution": {
                "title": "Contribution",
                "type": "array",
                "minItems": 1,
                "items": {
                  "title": "Author or editor",
                  "type": "string",
                  "minLength": 1,
                  "widget": {
                    "formlyConfig": {
                      "props": {
                        "placeholder": "Example: Muller, Hans"
                      }
                    }
                  }
                },
                "widget": {
                  "formlyConfig": {
                    "expressions": {
                      "hide": "!['coar:c_3248', 'coar:c_5794', 'coar:c_6670'].includes(field.parent.parent.parent.parent.model.documentType)"
                    }
                  }
                }
              },
              "identifiedBy": {
                "title": "Identifiers",
                "type": "array",
                "minItems": 1,
                "items": {
                  "title": "Identifier",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "type": {
                      "title": "Type",
                      "type": "string",
                      "enum": [
                        "bf:AudioIssueNumber",
                        "bf:Doi",
                        "bf:Ean",
                        "bf:Gtin14Number",
                        "bf:Identifier",
                        "bf:Isan",
                        "bf:Isbn",
                        "bf:Ismn",
                        "bf:Isrc",
                        "bf:Issn",
                        "bf:Local",
                        "bf:IssnL",
                        "bf:MatrixNumber",
                        "bf:MusicDistributorNumber",
                        "bf:MusicPlate",
                        "bf:MusicPublisherNumber",
                        "bf:PublisherNumber",
                        "bf:Upc",
                        "bf:Urn",
                        "bf:VideoRecordingNumber",
                        "uri",
                        "bf:ReportNumber",
                        "bf:Strn"
                      ],
                      "widget": {
                        "formlyConfig": {
                          "props": {
                            "options": [
                              {
                                "label": "bf:AudioIssueNumber",
                                "value": "bf:AudioIssueNumber"
                              },
                              {
                                "label": "bf:Doi",
                                "value": "bf:Doi"
                              },
                              {
                                "label": "bf:Ean",
                                "value": "bf:Ean"
                              },
                              {
                                "label": "bf:Gtin14Number",
                                "value": "bf:Gtin14Number"
                              },
                              {
                                "label": "bf:Identifier",
                                "value": "bf:Identifier"
                              },
                              {
                                "label": "bf:Isan",
                                "value": "bf:Isan"
                              },
                              {
                                "label": "bf:Isbn",
                                "value": "bf:Isbn"
                              },
                              {
                                "label": "bf:Ismn",
                                "value": "bf:Ismn"
                              },
                              {
                                "label": "bf:Isrc",
                                "value": "bf:Isrc"
                              },
                              {
                                "label": "bf:Issn",
                                "value": "bf:Issn"
                              },
                              {
                                "label": "bf:IssnL",
                                "value": "bf:IssnL"
                              },
                              {
                                "label": "bf:Local",
                                "value": "bf:Local"
                              },
                              {
                                "label": "bf:MatrixNumber",
                                "value": "bf:MatrixNumber"
                              },
                              {
                                "label": "bf:MusicDistributorNumber",
                                "value": "bf:MusicDistributorNumber"
                              },
                              {
                                "label": "bf:MusicPlate",
                                "value": "bf:MusicPlate"
                              },
                              {
                                "label": "bf:MusicPublisherNumber",
                                "value": "bf:MusicPublisherNumber"
                              },
                              {
                                "label": "bf:PublisherNumber",
                                "value": "bf:PublisherNumber"
                              },
                              {
                                "label": "bf:Upc",
                                "value": "bf:Upc"
                              },
                              {
                                "label": "bf:Urn",
                                "value": "bf:Urn"
                              },
                              {
                                "label": "bf:VideoRecordingNumber",
                                "value": "bf:VideoRecordingNumber"
                              },
                              {
                                "label": "uri",
                                "value": "uri"
                              },
                              {
                                "label": "bf:ReportNumber",
                                "value": "bf:ReportNumber"
                              },
                              {
                                "label": "bf:Strn",
                                "value": "bf:Strn"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "value": {
                      "title": "Value",
                      "type": "string",
                      "minLength": 1
                    },
                    "note": {
                      "title": "Note",
                      "type": "string",
                      "minLength": 1,
                      "widget": {
                        "formlyConfig": {
                          "props": {
                            "hide": true
                          }
                        }
                      }
                    },
                    "qualifier": {
                      "title": "Qualifier",
                      "type": "string",
                      "minLength": 1,
                      "widget": {
                        "formlyConfig": {
                          "props": {
                            "hide": true
                          }
                        }
                      }
                    },
                    "acquisitionTerms": {
                      "title": "Terms of acquisition",
                      "description": "Conditions under which the publisher, distributor, etc., will normally supply a resource, e.g., price of a resource.",
                      "type": "string",
                      "minLength": 1
                    },
                    "source": {
                      "title": "Source",
                      "type": "string",
                      "minLength": 1,
                      "widget": {
                        "formlyConfig": {
                          "expressions": {
                            "props.required": "model && model.type === 'bf:Local'",
                            "hide": "!model ||  model.type !== 'bf:Local'"
                          }
                        }
                      }
                    },
                    "status": {
                      "title": "Status",
                      "type": "string",
                      "enum": [
                        "invalid",
                        "cancelled",
                        "invalid or cancelled"
                      ],
                      "validationMessage": "ISBN/ISSN status should be selected in the list below.",
                      "widget": {
                        "formlyConfig": {
                          "props": {
                            "hide": true
                          }
                        }
                      }
                    }
                  },
                  "propertiesOrder": [
                    "type",
                    "value",
                    "status",
                    "qualifier",
                    "note",
                    "source"
                  ],
                  "required": [
                    "type",
                    "value"
                  ]
                },
                "widget": {
                  "formlyConfig": {
                    "props": {
                      "hide": true
                    }
                  }
                }
              }
            },
            "propertiesOrder": [
              "title",
              "publication",
              "contribution",
              "identifiedBy"
            ],
            "required": [
              "title"
            ]
          }
        },
        "propertiesOrder": [
          "document",
          "numberingYear",
          "numberingVolume",
          "numberingIssue",
          "numberingPages"
        ],
        "required": [
          "document"
        ]
      },
      "widget": {
        "formlyConfig": {
          "expressions": {
            "props.required": "field.parent.model && ['coar:c_3248', 'coar:c_5794', 'coar:c_6670', 'coar:c_3e5a', 'coar:c_ba08', 'coar:c_beb9', 'coar:c_6501', 'coar:c_998f', 'coar:c_dcae04bc'].includes(field.parent.model.documentType)"
          },
          "props": {
            "hide": true
          }
        }
      }
    },
    "projects": {
      "title": "Research projects",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Research project",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "$ref": {
            "type": "string",
            "pattern": "^https://sonar.ch/api/projects/.*?$",
            "widget": {
              "formlyConfig": {
                "type": "remoteAutoComplete",
                "props": {
                  "queryOptions": {
                    "type": "projects",
                    "label": "name",
                    "field": "metadata.name.suggest"
                  }
                }
              }
            }
          }
        },
        "required": [
          "$ref"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    },
    "oa_status": {
      "$ref": "https://sonar.ch/schemas/common/oa-status-v1.0.0.json"
    },
    "customField1": {
      "title": "Custom field 1",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1,
        "widget": {
          "formlyConfig": {
            "props": {
              "type": "remoteAutoComplete",
              "formlyConfig": {
                "type": "documents",
                "field": "customField1.suggest",
                "allowAdd": true
              }
            }
          }
        }
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "customField2": {
      "title": "Custom field 2",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1,
        "widget": {
          "formlyConfig": {
            "props": {
              "type": "remoteAutoComplete",
              "formlyConfig": {
                "type": "documents",
                "field": "customField2.suggest",
                "allowAdd": true
              }
            }
          }
        }
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "customField3": {
      "title": "Custom field 3",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1,
        "widget": {
          "formlyConfig": {
            "props": {
              "type": "remoteAutoComplete",
              "formlyConfig": {
                "type": "documents",
                "field": "customField3.suggest",
                "allowAdd": true
              }
            }
          }
        }
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    },
    "masked": {
      "$ref": "https://sonar.ch/schemas/common/masked-v1.0.0.json"
    },
    "subdivisions": {
      "title": "Subdivisions",
      "type": "array",
      "minItems": 0,
      "items": {
        "title": "Subdivision",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "$ref": {
            "type": "string",
            "pattern": "^https://sonar.ch/api/subdivisions/.*?$",
            "widget": {
              "formlyConfig": {
                "type": "remoteAutoComplete",
                "props": {
                  "queryOptions": {
                    "type": "subdivisions",
                    "field": "name.value.suggest",
                    "label": "label"
                  }
                }
              }
            }
          }
        },
        "required": [
          "$ref"
        ]
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true,
            "navigation": {
              "essential": true
            }
          }
        }
      }
    }
  },
  "propertiesOrder": [
    "organisation",
    "documentType",
    "title",
    "language",
    "projects",
    "classification",
    "abstracts",
    "subjects",
    "identifiedBy",
    "contribution",
    "dissertation",
    "editionStatement",
    "otherEdition",
    "relatedTo",
    "provisionActivity",
    "partOf",
    "collections",
    "subdivisions",
    "extent",
    "formats",
    "notes",
    "series",
    "additionalMaterials",
    "contentNote",
    "otherMaterialCharacteristics",
    "usageAndAccessPolicy",
    "oa_status",
    "customField1",
    "customField2",
    "customField3",
    "masked"
  ],
  "required": [
    "$schema",
    "pid",
    "title"
  ],
  "definitions": {
    "role": {
      "title": "Roles",
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "default": ["cre"],
      "items": {
        "title": "Role",
        "type": "string",
        "enum": [
          "cre",
          "ctb",
          "edt",
          "dgc",
          "dgs",
          "prt"
        ]
      },
      "widget": {
        "formlyConfig": {
          "type": "multi-select",
          "props": {
            "options": [
              {
                "label": "contribution_role_cre",
                "value": "cre"
              },
              {
                "label": "contribution_role_ctb",
                "value": "ctb"
              },
              {
                "label": "contribution_role_edt",
                "value": "edt"
              },
              {
                "label": "contribution_role_dgc",
                "value": "dgc"
              },
              {
                "label": "contribution_role_dgs",
                "value": "dgs"
              },
              {
                "label": "contribution_role_prt",
                "value": "prt"
              }
            ]
          }
        }
      }
    },
    "controlledAffiliation": {
      "title": "Controlled affiliations",
      "type": "array",
      "items": {
        "title": "Controlled affiliation",
        "type": "string",
        "minLength": 1
      },
      "widget": {
        "formlyConfig": {
          "props": {
            "hide": true
          }
        }
      }
    }
  }
}
